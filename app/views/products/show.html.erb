<%= render 'shared/header' %>

<style>
    body {
        margin: 0;
        padding: 0;
        font-family: 'Noto Sans JP', sans-serif;
        background-color: #f9f9f9;
    }

    .product-detail-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 140px 2rem 4rem;
    }

    .product-detail-card {
        background: white;
        border-radius: 12px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        overflow: hidden;
    }

    .product-detail-content {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 3rem;
        padding: 3rem;
    }

    .product-image-section {
        display: flex;
        align-items: center;
        justify-content: center;
        background: #F9F9F9;
        border-radius: 8px;
        padding: 2rem;
        min-height: 400px;
    }

    .product-image {
        max-width: 100%;
        max-height: 500px;
        object-fit: contain;
        border-radius: 8px;
    }

    .product-info-section {
        display: flex;
        flex-direction: column;
        gap: 2rem;
    }

    .product-title {
        font-size: 2rem;
        font-weight: bold;
        color: #333;
        margin: 0;
        padding-bottom: 1rem;
        border-bottom: 2px solid #D5016B;
    }

    .product-price {
        font-size: 2.5rem;
        font-weight: bold;
        color: #DB2777;
        margin: 0;
    }

    .product-price-label {
        font-size: 1rem;
        color: #333;
        margin-bottom: 0.5rem;
    }

    .product-description {
        line-height: 1.8;
        color: #333;
        font-size: 1.1rem;
    }

    .product-description h1,
    .product-description h2,
    .product-description h3 {
        margin-top: 1.5rem;
        margin-bottom: 1rem;
        color: #333;
    }

    .product-description img {
        max-width: 100%;
        height: auto;
        border-radius: 8px;
        margin: 1rem 0;
    }

    .product-description p {
        margin-bottom: 1rem;
    }

    .back-button {
        display: inline-block;
        padding: 0.75rem 2rem;
        background-color: #ffc0cb;
        color: #000;
        -webkit-text-stroke: 0.75px #fff;
        text-decoration: none;
        border-radius: 8px;
        font-weight: 600;
        transition: all 0.3s;
        margin-top: 2rem;
    }

    .back-button:hover {
        background-color: #DB2777;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    .no-image-placeholder {
        width: 100%;
        height: 400px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #e0e0e0;
        color: #999;
        font-size: 1.2rem;
        border-radius: 8px;
    }

    /* レスポンシブ対応 */
    @media (max-width: 1024px) {
        .product-detail-container {
            padding: 130px 1.5rem 3rem;
        }

        .product-detail-content {
            gap: 2rem;
            padding: 2rem;
        }

        .product-title {
            font-size: 1.75rem;
        }

        .product-price {
            font-size: 2rem;
        }
    }

    @media (max-width: 768px) {
        .product-detail-container {
            padding: 110px 1rem 2rem;
        }

        .product-detail-content {
            grid-template-columns: 1fr;
            gap: 2rem;
            padding: 1.5rem;
        }

        .product-image-section {
            min-height: 300px;
            padding: 1rem;
        }

        .product-title {
            font-size: 1.5rem;
        }

        .product-price {
            font-size: 1.75rem;
        }

        .product-description {
            font-size: 1rem;
        }
    }

    @media (max-width: 480px) {
        .product-detail-container {
            padding: 90px 0.75rem 1.5rem;
        }

        .product-detail-content {
            padding: 1rem;
            gap: 1.5rem;
        }

        .product-title {
            font-size: 1.25rem;
        }

        .product-price {
            font-size: 1.5rem;
        }

        .product-image-section {
            min-height: 250px;
        }
    }
</style>

<div class="product-detail-container">
    <div class="product-detail-card">
        <div class="product-detail-content">
            <!-- 商品画像セクション -->
            <div class="product-image-section">
                <% if @product.image.attached? %>
                <%= image_tag @product.image, alt: @product.name, class: 'product-image' %>
                <% else %>
                <div class="no-image-placeholder">
                    画像なし
                </div>
                <% end %>
            </div>

            <!-- 商品情報セクション -->
            <div class="product-info-section">
                <h1 class="product-title"><%= @product.name %></h1>

                <div>
                    <p class="product-price-label">価格（税込）</p>
                    <p class="product-price">¥<%= number_with_delimiter(@product.price) %></p>
                </div>

                <div class="product-description">
                    <%= @product.description %>
                </div>

                <%= link_to "一覧に戻る", :back, class: 'back-button' %>
            </div>
        </div>
    </div>
</div>

<script>
    // サイドメニューのJavaScript（ヘッダー用）
    document.addEventListener('DOMContentLoaded', function() {
        const hamburger = document.getElementById('hamburger-featured');
        const overlay = document.getElementById('overlay-featured');
        const sideMenu = document.getElementById('sideMenu-featured');
        const closeMenu = document.getElementById('closeMenu-featured');

        if (hamburger && overlay && sideMenu && closeMenu) {
            hamburger.addEventListener('click', function() {
                overlay.style.display = 'block';
                sideMenu.style.right = '0';
            });

            closeMenu.addEventListener('click', function() {
                overlay.style.display = 'none';
                sideMenu.style.right = '-300px';
            });

            overlay.addEventListener('click', function() {
                overlay.style.display = 'none';
                sideMenu.style.right = '-300px';
            });
        }
    });
</script>