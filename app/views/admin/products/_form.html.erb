<div class="bg-white rounded-lg shadow p-6">
    <%= form_with(model: [:admin, product], local: true, class: "space-y-6") do |form| %>

    <!-- エラーメッセージ -->
    <% if product.errors.any? %>
    <div class="bg-red-50 border border-red-200 rounded-lg p-4">
        <h3 class="text-sm font-medium text-red-800 mb-2">
            <%= pluralize(product.errors.count, "件") %>のエラーがあります
        </h3>
        <ul class="list-disc list-inside text-sm text-red-700">
            <% product.errors.full_messages.each do |message| %>
            <li><%= message %></li>
            <% end %>
        </ul>
    </div>
    <% end %>

    <!-- 商品名 -->
    <div>
        <%= form.label :name, "商品名", class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= form.text_field :name, class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500", placeholder: "例: うさぎまんじゅう" %>
    </div>

    <!-- 価格 -->
    <div>
        <%= form.label :price, "価格（円）", class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= form.number_field :price, class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500", placeholder: "例: 150" %>
    </div>

    <!-- 商品説明 -->
    <div>
        <%= form.label :description, "商品説明", class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= form.text_area :description, rows: 4, class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500", placeholder: "商品の説明を入力してください" %>
    </div>

    <!-- 画像ファイル名 -->
    <div>
        <%= form.label :image_filename, "画像ファイル名", class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= form.text_field :image_filename, class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500", placeholder: "例: usagimanju.jpg" %>
        <p class="mt-1 text-sm text-gray-500">
            app/assets/images/products/ に配置した画像のファイル名を入力してください
        </p>
    </div>

    <!-- カテゴリ -->
    <div>
        <%= form.label :category, "カテゴリ", class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= form.select :category, 
          options_for_select(Product::CATEGORIES.to_a, product.category),
          { include_blank: "選択してください" },
          class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500" %>
    </div>

    <!-- 表示順序 -->
    <div>
        <%= form.label :display_order, "表示順序", class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= form.number_field :display_order, class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500", placeholder: "0" %>
        <p class="mt-1 text-sm text-gray-500">
            数字が小さいほど先に表示されます
        </p>
    </div>

    <!-- チェックボックス -->
    <div class="space-y-3">
        <div class="flex items-center">
            <%= form.check_box :visible, class: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" %>
            <%= form.label :visible, "表示する", class: "ml-2 text-sm text-gray-700" %>
        </div>

        <div class="flex items-center">
            <%= form.check_box :featured, class: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" %>
            <%= form.label :featured, "注目商品として表示", class: "ml-2 text-sm text-gray-700" %>
        </div>
    </div>

    <!-- ボタン -->
    <div class="flex justify-end space-x-3 pt-4">
        <%= link_to "キャンセル", admin_products_path, class: "px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition" %>
        <%= form.submit product.new_record? ? "登録する" : "更新する", class: "px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition" %>
    </div>

    <% end %>
</div>